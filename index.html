<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Fun learning games for kids 2-4 years old. Learn phonics, reading, numbers, logic and creativity!" />
  <title>Kiki Learns to Read - Fun Learning for Little Minds!</title>
  <link rel="stylesheet" href="css/style.css?v=final1">
  <link rel="stylesheet" href="css/auth.css">
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>
</head>
<body>

<div id="app-container">
  <!-- Combined Header and Hero Section -->
  <div class="header-hero-wrapper">
    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="navbar-container">
        <div class="navbar-logo">
          <img src="assets/images/logo.png" alt="Kiki Learns to Read" class="navbar-logo-img">
        </div>
        <ul class="navbar-menu">
          <li><a href="#" onclick="showHomepage(); return false;" class="nav-link">Home</a></li>
          <li><a href="#" onclick="showReadingSection(); return false;" class="nav-link">Games</a></li>
          <li><a href="#" class="nav-link">Stories</a></li>
          <li><a href="#" class="nav-link">Parents</a></li>
        </ul>
        <div id="auth-section" class="auth-buttons">
          <button onclick="openModal('signin-modal')" class="login-btn">Login</button>
          <button onclick="openModal('signup-modal')" class="signup-btn">Sign Up</button>
        </div>
        <div id="user-profile" class="user-profile" style="display: none;">
          <span id="user-email" class="user-email"></span>
          <select id="kid-selector" class="kid-selector" onchange="selectKidForGame()">
            <option value="">Select a kid...</option>
          </select>
          <button onclick="goToProfile()" class="profile-btn">ğŸ‘¤ Profile</button>
          <button id="signout-btn" class="signout-btn">Sign Out</button>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-content">
        <div class="hero-text">
          <h1>Learn to Read with Kiki!</h1>
          <p class="hero-description">Fun Games, Interactive Stories, and Exciting Adventures!</p>
          <div class="hero-ctas">
            <button class="cta-primary" onclick="showReadingSection()">Get Started!</button>
            <button class="cta-secondary">Watch Demo</button>
          </div>
        </div>
        <div class="hero-illustration">
          <div class="illustration-placeholder"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Features Section -->
  <div class="features-section">
    <h2>Join the Reading Fun Today!</h2>
    <div class="features-grid">
      <div class="feature-card" onclick="showReadingSection()">
        <div class="feature-icon">ğŸ“š</div>
        <h3>Phonics & Reading</h3>
        <p>Learn letters, sounds, and reading skills!</p>
      </div>
      <div class="feature-card" onclick="showNumbersSection()">
        <div class="feature-icon">ğŸ”¢</div>
        <h3>Numbers & Math</h3>
        <p>Fun with counting and number games!</p>
      </div>
      <div class="feature-card" onclick="showCreativitySection()">
        <div class="feature-icon">ğŸ¨</div>
        <h3>Creativity</h3>
        <p>Draw, paint and create amazing art!</p>
      </div>
      <div class="feature-card" onclick="showLogicSection()">
        <div class="feature-icon">ğŸ§©</div>
        <h3>Logic & Thinking</h3>
        <p>Problem-solving and memory games!</p>
      </div>
    </div>
    <div class="features-benefits">
      <div class="benefit-item">ğŸ® Engaging Activities</div>
      <div class="benefit-item">ğŸ‘¶ Adorable Characters</div>
      <div class="benefit-item">âœ… Safe & Kid-Friendly</div>
    </div>
    <button class="cta-primary large-btn" onclick="showReadingSection()">Start Learning Now!</button>
  </div>

  <!-- Reading Skills Section (Hidden by default) -->
  <div id="reading-section" class="reading-section" style="display: none;">
    <div class="section-header">
      <button class="back-button" onclick="showHomepage()">â† Back to Homepage</button>
      <h2>ğŸ“š Reading Skills & Phonics Games</h2>
    </div>

    <!-- CVC Phonics Quick Play -->
    <div class="quick-play-section">
      <div class="game-exit-header">
        <button class="exit-game-button" onclick="showReadingSection()">âœ– Exit Game</button>
      </div>
      <!-- Reading Guide -->
      <div id="reading-guide" class="reading-guide">
        <div class="guide-line"></div>
        <div class="guide-finger">â˜ï¸</div>
      </div>
      <h3>ğŸ¯ Phonics Practice</h3>
      <div id="word-display"></div>
      <div class="phonics-controls">
        <button id="new-word-button">New Word</button>
        <button id="blend-word-button">Blend Word</button>
      </div>
      <div class="phonics-options">
        <button id="vc-button">VC</button>
        <button id="cv-button">CV</button>
        <button id="cvc-button">CVC</button>
        <button id="music-toggle">ğŸµ Music</button>
      </div>
      <p class="instruction">Tap a letter to hear its sound</p>
    </div>

    <!-- Games Section -->
    <div class="games-section">
      <h3>ğŸ® Reading Games</h3>
      <div class="games-grid">
        <a href="games/reading-skills/listen-choose/listen.html" class="game-card">
          <div class="game-icon">ğŸ‘‚</div>
          <h3>Listen & Choose</h3>
          <p>Train your ears with sounds</p>
        </a>
        
        <a href="games/reading-skills/balloon-pop/balloon.html" class="game-card">
          <div class="game-icon">ğŸˆ</div>
          <h3>Pop the Balloon</h3>
          <p>Pop balloons to learn letters</p>
        </a>
        
        <a href="games/reading-skills/egg-match/egg-match.html" class="game-card">
          <div class="game-icon">ğŸ¥š</div>
          <h3>Crack the Egg</h3>
          <p>Surprise discoveries inside!</p>
        </a>
        
        <a href="games/reading-skills/missing-letter/missing-letter.html" class="game-card">
          <div class="game-icon">ğŸ”¤</div>
          <h3>Missing Letter</h3>
          <p>Fill in the missing letters!</p>
        </a>
        
        <a href="games/reading-skills/storybook/storybook.html" class="game-card">
          <div class="game-icon">ğŸ“š</div>
          <h3>CVC Storybook</h3>
          <p>Read simple stories with CVC words!</p>
        </a>

        <a href="games/reading-skills/cloze-sentences/cloze.html" class="game-card">
          <div class="game-icon">âœï¸</div>
          <h3>Cloze Sentences</h3>
          <p>Drag tricky words to fill blanks.</p>
        </a>

        <a href="games/reading-skills/word-spinner/word-spinner.html" class="game-card">
          <div class="game-icon">ğŸ¡</div>
          <h3>Word Spinner</h3>
          <p>Spin letters to make word families!</p>
        </a>

        <a href="games/reading-skills/spell-it/spell-it.html" class="game-card">
          <div class="game-icon">âœï¸</div>
          <h3>Spell It!</h3>
          <p>Listen and click letters to spell words!</p>
        </a>
      </div>
    </div>
  </div>

  <!-- Numbers & Maths Section (Hidden by default) -->
  <div id="numbers-section" class="numbers-section" style="display: none;">
    <div class="section-header">
      <button class="back-button" onclick="showHomepage()">â† Back to Homepage</button>
      <h2>ğŸ”¢ Numbers & Maths Games</h2>
    </div>

    <!-- Games Grid -->
    <div class="games-section">
      <div class="games-grid">
        <a href="games/numbers-and-maths/number-chart/number-chart.html" class="game-card">
          <div class="game-icon">ğŸ§®</div>
          <h3>Number Chart</h3>
          <p>Click numbers to hear them in different ranges!</p>
        </a>
        
        <a href="games/numbers-and-maths/count-objects/count-objects.html" class="game-card">
          <div class="game-icon">ğŸ¯</div>
          <h3>Count Objects</h3>
          <p>Count objects and choose the right number!</p>
        </a>
        
        <a href="games/numbers-and-maths/number-balloon-pop/number-balloon.html" class="game-card">
          <div class="game-icon">ğŸˆ</div>
          <h3>Number Balloon Pop</h3>
          <p>Pop balloons with the numbers you hear!</p>
        </a>
      </div>
    </div>
  </div>

  <!-- Logic & Thinking Section (Hidden by default) -->
  <div id="logic-section" class="logic-section" style="display: none;">
    <div class="section-header">
      <button class="back-button" onclick="showHomepage()">â† Back to Homepage</button>
      <h2>ğŸ§© Logic & Thinking Games</h2>
    </div>

    <!-- Games Grid -->
    <div class="games-section">
      <div class="games-grid">
        <a href="games/logic/pattern-master/pattern.html" class="game-card">
          <div class="game-icon">ğŸ¯</div>
          <h3>Pattern Master</h3>
          <p>Complete the patterns and train your thinking skills!</p>
        </a>
        
        <a href="games/logic/odd-one-out/odd-one-out.html" class="game-card">
          <div class="game-icon">ğŸ¤”</div>
          <h3>Odd One Out</h3>
          <p>Find which one doesn't belong!</p>
        </a>

        <a href="games/logic/color-match/color-match.html" class="game-card">
          <div class="game-icon">ğŸ¨</div>
          <h3>Color Match</h3>
          <p>Match colors and learn color names!</p>
        </a>

        <a href="games/logic/spot-difference/spot-difference.html" class="game-card">
          <div class="game-icon">ğŸ”</div>
          <h3>Spot the Difference</h3>
          <p>Find all the hidden differences between two pictures!</p>
        </a>

        <a href="games/logic/find-it/find-it.html" class="game-card">
          <div class="game-icon">ğŸš€</div>
          <h3>Rocket Word Builder</h3>
          <p>Snap letter blocks to build and launch the word.</p>
        </a>
        
        <a href="games/logic/memory-game/memory.html" class="game-card">
          <div class="game-icon">ğŸ§ </div>
          <h3>Memory Game</h3>
          <p>Remember and match pairs</p>
        </a>

        <a href="games/logic/sequence-memory/sequence-memory.html" class="game-card">
          <div class="game-icon">ğŸ¬</div>
          <h3>Sequence Memory</h3>
          <p>Remember and click images in the correct order!</p>
        </a>
      </div>
    </div>
  </div>

  <!-- Creativity Section (Hidden by default) -->
  <div id="creativity-section" class="creativity-section" style="display: none;">
    <div class="section-header">
      <button class="back-button" onclick="showHomepage()">â† Back to Homepage</button>
      <h2>ğŸ¨ Creativity & Art Games</h2>
    </div>

    <!-- Games Grid -->
    <div class="games-section">
      <div class="games-grid">
        <a href="games/creativity/creative-canvas/creative-canvas.html" class="game-card">
          <div class="game-icon">ğŸ¨</div>
          <h3>Creative Canvas</h3>
          <p>Draw, paint and create amazing art!</p>
        </a>
        
        <a href="games/creativity/shape-puzzle/shape-puzzle.html" class="game-card">
          <div class="game-icon">ğŸ§©</div>
          <h3>Shape Puzzle</h3>
          <p>Rebuild objects from scattered pieces!</p>
        </a>

        <a href="games/creativity/shape-builder/shape-builder.html" class="game-card">
          <div class="game-icon">ğŸ”¨</div>
          <h3>Shape Builder</h3>
          <p>Drag shapes to build fun pictures!</p>
        </a>

        <a href="games/creativity/shape-creator/shape-creator.html" class="game-card">
          <div class="game-icon">âœ¨</div>
          <h3>Shape Creator</h3>
          <p>Create your own pictures with shapes!</p>
        </a>

        <a href="games/creativity/flag-quiz/flag-quiz.html" class="game-card">
          <div class="game-icon">ğŸŒ</div>
          <h3>Flags & Countries</h3>
          <p>Match flags to country names and learn geography!</p>
        </a>
      </div>
    </div>
  </div>

  <!-- Main Homepage Sections -->
  <div id="homepage-sections">
    <!-- This will contain the welcome, description, skills, and footer when on homepage -->
  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="footer-container">
    <div class="footer-content">
      <div class="footer-section">
        <h4>About</h4>
        <p>Kiki Learns to Read makes learning fun for kids ages 2-4 with interactive games and stories.</p>
      </div>
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#">About</a></li>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Follow Us</h4>
        <div class="social-links">
          <a href="#" class="social-icon">f</a>
          <a href="#" class="social-icon">ğŸ“º</a>
          <a href="#" class="social-icon">ğ•</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2024 Kiki Learns to Read. All Rights Reserved.</p>
    </div>
  </div>
</footer>

<script src="config/config.js"></script>
<script src="config/firebase-config.js"></script>
<script src="src/auth.js"></script>
<script src="src/game-integration.js"></script>
<script src="src/script.js?v=final1"></script>
<script>
// Functions to handle section switching
function showReadingSection() {
  // Hide homepage sections
  const heroSection = document.querySelector('.hero-section');
  const featuresSection = document.querySelector('.features-section');
  const numbersSection = document.getElementById('numbers-section');
  const creativitySection = document.getElementById('creativity-section');
  const logicSection = document.getElementById('logic-section');
  
  if (heroSection) heroSection.style.display = 'none';
  if (featuresSection) featuresSection.style.display = 'none';
  if (numbersSection) numbersSection.style.display = 'none';
  if (creativitySection) creativitySection.style.display = 'none';
  if (logicSection) logicSection.style.display = 'none';
  
  // Show reading section
  const readingSection = document.getElementById('reading-section');
  if (readingSection) readingSection.style.display = 'block';
}

function showNumbersSection() {
  // Hide homepage sections
  const heroSection = document.querySelector('.hero-section');
  const featuresSection = document.querySelector('.features-section');
  const readingSection = document.getElementById('reading-section');
  const creativitySection = document.getElementById('creativity-section');
  const logicSection = document.getElementById('logic-section');
  
  if (heroSection) heroSection.style.display = 'none';
  if (featuresSection) featuresSection.style.display = 'none';
  if (readingSection) readingSection.style.display = 'none';
  if (creativitySection) creativitySection.style.display = 'none';
  if (logicSection) logicSection.style.display = 'none';
  
  // Show numbers section
  const numbersSection = document.getElementById('numbers-section');
  if (numbersSection) numbersSection.style.display = 'block';
}

function showLogicSection() {
  // Hide homepage sections
  const heroSection = document.querySelector('.hero-section');
  const featuresSection = document.querySelector('.features-section');
  const readingSection = document.getElementById('reading-section');
  const numbersSection = document.getElementById('numbers-section');
  const creativitySection = document.getElementById('creativity-section');
  
  if (heroSection) heroSection.style.display = 'none';
  if (featuresSection) featuresSection.style.display = 'none';
  if (readingSection) readingSection.style.display = 'none';
  if (numbersSection) numbersSection.style.display = 'none';
  if (creativitySection) creativitySection.style.display = 'none';
  
  // Show logic section
  const logicSection = document.getElementById('logic-section');
  if (logicSection) logicSection.style.display = 'block';
}

function showCreativitySection() {
  // Hide homepage sections
  const heroSection = document.querySelector('.hero-section');
  const featuresSection = document.querySelector('.features-section');
  const readingSection = document.getElementById('reading-section');
  const numbersSection = document.getElementById('numbers-section');
  const logicSection = document.getElementById('logic-section');
  
  if (heroSection) heroSection.style.display = 'none';
  if (featuresSection) featuresSection.style.display = 'none';
  if (readingSection) readingSection.style.display = 'none';
  if (numbersSection) numbersSection.style.display = 'none';
  if (logicSection) logicSection.style.display = 'none';
  
  // Show creativity section
  const creativitySection = document.getElementById('creativity-section');
  if (creativitySection) creativitySection.style.display = 'block';
}

function showHomepage() {
  // Show homepage sections
  const heroSection = document.querySelector('.hero-section');
  const featuresSection = document.querySelector('.features-section');
  
  if (heroSection) heroSection.style.display = 'block';
  if (featuresSection) featuresSection.style.display = 'block';
  
  // Hide all game sections
  const readingSection = document.getElementById('reading-section');
  const numbersSection = document.getElementById('numbers-section');
  const creativitySection = document.getElementById('creativity-section');
  const logicSection = document.getElementById('logic-section');
  if (readingSection) readingSection.style.display = 'none';
  if (numbersSection) numbersSection.style.display = 'none';
  if (creativitySection) creativitySection.style.display = 'none';
  if (logicSection) logicSection.style.display = 'none';
}

// Modal utilities
function openModal(modalId) {
  const modal = document.getElementById(modalId);
  if (modal) modal.style.display = 'flex';
}

function closeModal(modalId) {
  const modal = document.getElementById(modalId);
  if (modal) modal.style.display = 'none';
}

// Navigate to profile page
function goToProfile() {
  window.location.href = 'profile.html';
}

// Initialize kid selector when user data loads
function initializeKidSelector() {
  if (window.userData && window.userData.kids && window.userData.kids.length > 0) {
    populateKidSelector();
  }
}

// Listen for user data changes
if (typeof document !== 'undefined') {
  document.addEventListener('DOMContentLoaded', () => {
    // Delay to ensure userData is loaded
    setTimeout(() => {
      initializeKidSelector();
    }, 1000);
  });
}
</script>

<!-- Sign In Modal -->
<div id="signin-modal" class="modal">
  <div class="modal-content">
    <button class="modal-close" onclick="closeModal('signin-modal')">Ã—</button>
    <h2>ğŸ” Sign In</h2>
    
    <button id="google-signin-btn" class="google-button">
      ğŸ” Sign In with Google
    </button>
    
    <div class="divider">or</div>
    
    <form id="signin-form" class="auth-form">
      <div class="form-group">
        <label for="signin-email">Email</label>
        <input type="email" id="signin-email" required placeholder="your@email.com">
      </div>
      
      <div class="form-group">
        <label for="signin-password">Password</label>
        <input type="password" id="signin-password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
      </div>
      
      <button type="submit" class="auth-button">Sign In</button>
    </form>
    
    <div class="auth-link">
      <a href="#" onclick="closeModal('signin-modal'); openModal('reset-modal'); return false;">Forgot password?</a>
    </div>
    
    <div class="auth-link">
      Don't have an account? <a href="#" onclick="closeModal('signin-modal'); openModal('signup-modal'); return false;">Sign Up</a>
    </div>
  </div>
</div>

<!-- Sign Up Modal -->
<div id="signup-modal" class="modal">
  <div class="modal-content">
    <button class="modal-close" onclick="closeModal('signup-modal')">Ã—</button>
    <h2>âœ¨ Create Account</h2>
    
    <button id="google-signup-btn" class="google-button" onclick="signInWithGoogle()">
      ğŸ” Sign Up with Google
    </button>
    
    <div class="divider">or</div>
    
    <form id="signup-form" class="auth-form">
      <div class="form-group">
        <label for="signup-name">Parent Name (Optional)</label>
        <input type="text" id="signup-name" placeholder="Your name">
      </div>
      
      <div class="form-group">
        <label for="signup-email">Email</label>
        <input type="email" id="signup-email" required placeholder="your@email.com">
      </div>
      
      <div class="form-group">
        <label for="signup-password">Password</label>
        <input type="password" id="signup-password" required placeholder="At least 6 characters" minlength="6">
      </div>
      
      <button type="submit" class="auth-button">Create Account</button>
    </form>
    
    <div class="auth-link">
      Already have an account? <a href="#" onclick="closeModal('signup-modal'); openModal('signin-modal'); return false;">Sign In</a>
    </div>
  </div>
</div>

<!-- Password Reset Modal -->
<div id="reset-modal" class="modal">
  <div class="modal-content">
    <button class="modal-close" onclick="closeModal('reset-modal')">Ã—</button>
    <h2>ğŸ”‘ Reset Password</h2>
    
    <p style="text-align: center; color: #666; margin-bottom: 20px;">
      Enter your email and we'll send you a reset link
    </p>
    
    <form id="reset-form" class="auth-form">
      <div class="form-group">
        <label for="reset-email">Email</label>
        <input type="email" id="reset-email" required placeholder="your@email.com">
      </div>
      
      <button type="submit" class="auth-button">Send Reset Link</button>
    </form>
    
    <div class="auth-link">
      <a href="#" onclick="closeModal('reset-modal'); openModal('signin-modal'); return false;">Back to Sign In</a>
    </div>
  </div>
</div>

<!-- Firebase Backend (Modular Structure) -->
<script src="firebase/core/config.js"></script>
<script src="firebase/services/auth.service.js"></script>
<script src="firebase/services/user.service.js"></script>
<script src="firebase/services/kid.service.js"></script>
<script src="firebase/services/progress.service.js"></script>
<script src="firebase/services/subscription.service.js"></script>
<script src="firebase/utils/storage.js"></script>
<script src="firebase/utils/helpers.js"></script>
<script src="firebase/index.js"></script>
<script src="firebase/ui/handlers.js"></script>
<script src="firebase/ui/game-integration.js"></script>

</body>
</html>
